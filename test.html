<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script src = "./JCalculator.js"></script>
	<script>
	var json = [
		{aa:100,cc:300,dd:400,groupBy:1},
		{aa:100,bb:200,cc:350,dd:400,groupBy:1},
		{aa:100,bb:200,cc:350,dd:400,groupBy:1},
		{aa:100,bb:200,cc:300,dd:400,groupBy:1},
		{aa:100,bb:200,cc:150,dd:400,groupBy:2},
		{aa:100,bb:100,cc:150,dd:400,groupBy:2},
		{aa:100,bb:200,cc:150,dd:400,groupBy:2},
		{aa:100,bb:200,cc:300,dd:400,groupBy:2},
		{aa:100,bb:200,cc:300,dd:400,groupBy:2},
		{aa:200,bb:200,cc:300,dd:400,groupBy:2}
	];

	var foo = function (a) {
		return a.bb
	}
	var data=jc.sql({
		select:{
			// col:["groupBy", "bb"],
			col:{"groupBy": "groupBy", bb: function (a) {
		  		return a.bb
		 	}},
			sum:["cc", "dd"],
			count:["bb"],
			avg:{
				a_cc: "cc",
				a_dd: function(row){
					return row.dd
				},
				a_cd: function(row){
					return row.cc + row.dd;
				}
			},
			max: "aa",
		},
		from: json,
		// where: function(row){
		// 	return row.cc > 200
		// },
		// where:{cc: 150, bb: 100},
		groupBy:["groupBy", function (a) {
		  		return a.bb
		 	}],
		// having:{max_aa: ">100", sum_bb: ">800"},
		// orderBy: {bb: "desc", sum_cc: "acs"}
		orderBy: function (left, right) {
			return left.sum_cc < right.sum_cc;
		}
	})
	</script>
</body>
</html>